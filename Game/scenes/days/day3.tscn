[gd_scene load_steps=20 format=3 uid="uid://c4jqhy4013i3t"]

[ext_resource type="PackedScene" uid="uid://j7nagwydbbem" path="res://scenes/villageEnvScene.tscn" id="1_232fl"]
[ext_resource type="PackedScene" uid="uid://bmotrrb5fci2n" path="res://prefabs/gameplayObjects/player.tscn" id="2_ppn40"]
[ext_resource type="PackedScene" uid="uid://bq7rn46ilrthd" path="res://prefabs/gameplayObjects/characters/priest.tscn" id="3_5jh42"]
[ext_resource type="Script" path="res://scripts/dialogues/sharedDialogue.gd" id="4_bn7ue"]
[ext_resource type="PackedScene" uid="uid://bdxtlyav7kf57" path="res://prefabs/gameplayObjects/characters/hunter.tscn" id="5_dyowa"]
[ext_resource type="Script" path="res://scripts/dialogues/storyLineDialogue.gd" id="5_xixsj"]
[ext_resource type="Resource" uid="uid://yg8ipgo6cwlj" path="res://dialogues/characterStoryLines/priest/priestStoryLine.tres" id="6_3cthd"]
[ext_resource type="PackedScene" uid="uid://caralmujwdn3h" path="res://prefabs/gameplayObjects/characters/merchant.tscn" id="7_joeqx"]
[ext_resource type="Resource" uid="uid://cw0i06hasv30g" path="res://dialogues/characterStoryLines/hunter/hunterStoryLine.tres" id="8_u12km"]
[ext_resource type="PackedScene" uid="uid://cgbo0fg7mpkg0" path="res://prefabs/gameplayObjects/characters/tailor.tscn" id="9_poxsl"]
[ext_resource type="Resource" uid="uid://ciqnku1od2nx2" path="res://dialogues/characterStoryLines/merchant/merchantStoryLine.tres" id="10_chmou"]
[ext_resource type="PackedScene" uid="uid://duvm7dnivxel8" path="res://prefabs/gameplayObjects/characters/carpenter.tscn" id="11_3jdgh"]
[ext_resource type="Script" path="res://scripts/gameplayObjects/bed.gd" id="13_khy5i"]
[ext_resource type="Resource" uid="uid://cwt1qmyu68dah" path="res://dialogues/characterStoryLines/carpenter/carpenterStoryLine.tres" id="14_2g0xd"]
[ext_resource type="Script" path="res://scripts/components/interactable.gd" id="14_ix0bv"]
[ext_resource type="Resource" path="res://dialogues/day1/d1_tailor.dtl" id="14_n6oq2"]
[ext_resource type="PackedScene" uid="uid://tc161yn6qy2g" path="res://prefabs/gameplayObjects/furnitureAndProps/crate.tscn" id="17_ubib6"]
[ext_resource type="PackedScene" uid="uid://cd2sokl2hqfxm" path="res://prefabs/gameplayObjects/furnitureAndProps/cart.tscn" id="18_ywu8n"]

[sub_resource type="CylinderMesh" id="CylinderMesh_mnhcf"]

[node name="Day3" type="Node3D"]
metadata/_edit_lock_ = true

[node name="VillageEnvScene" parent="." instance=ExtResource("1_232fl")]
metadata/_edit_lock_ = true

[node name="GameplayObjects" type="Node3D" parent="."]
metadata/_edit_lock_ = true

[node name="Player" parent="GameplayObjects" instance=ExtResource("2_ppn40")]
transform = Transform3D(0.117, 0, -0.993132, 0, 1, 0, 0.993132, 0, 0.117, -21, 0.89, -26)

[node name="Priest" parent="GameplayObjects" node_paths=PackedStringArray("sharedDialogue") instance=ExtResource("3_5jh42")]
transform = Transform3D(0.231154, 0, 0.972917, 0, 1, 0, -0.972917, 0, 0.231154, 9.65526, 0, -22.4799)
sharedDialogue = NodePath("PriestDialogue")

[node name="PriestDialogue" type="Node" parent="GameplayObjects/Priest"]
script = ExtResource("4_bn7ue")

[node name="StoryLineDialogue" type="Node" parent="GameplayObjects/Priest" node_paths=PackedStringArray("dialogue")]
script = ExtResource("5_xixsj")
dialogue = NodePath("../PriestDialogue")
baseStoryLine = ExtResource("6_3cthd")

[node name="Hunter" parent="GameplayObjects" node_paths=PackedStringArray("sharedDialogue") instance=ExtResource("5_dyowa")]
transform = Transform3D(0.475286, 0, -0.879831, 0, 1, 0, 0.879831, 0, 0.475286, 6.93689, 0, -33.5308)
sharedDialogue = NodePath("HunterDialogue")

[node name="HunterDialogue" type="Node" parent="GameplayObjects/Hunter"]
script = ExtResource("4_bn7ue")

[node name="StoryLineDialogue" type="Node" parent="GameplayObjects/Hunter" node_paths=PackedStringArray("dialogue")]
script = ExtResource("5_xixsj")
dialogue = NodePath("../HunterDialogue")
baseStoryLine = ExtResource("8_u12km")

[node name="Merchant" parent="GameplayObjects" node_paths=PackedStringArray("sharedDialogue") instance=ExtResource("7_joeqx")]
transform = Transform3D(0.836592, 0, 0.547826, 0, 1, 0, -0.547826, 0, 0.836592, -14.4307, 0, -29.5039)
sharedDialogue = NodePath("MerchantDialogue")

[node name="MerchantDialogue" type="Node" parent="GameplayObjects/Merchant"]
script = ExtResource("4_bn7ue")

[node name="StoryLineDialogue" type="Node" parent="GameplayObjects/Merchant" node_paths=PackedStringArray("dialogue")]
script = ExtResource("5_xixsj")
dialogue = NodePath("../MerchantDialogue")
baseStoryLine = ExtResource("10_chmou")

[node name="Carpenter" parent="GameplayObjects" node_paths=PackedStringArray("sharedDialogue") instance=ExtResource("11_3jdgh")]
transform = Transform3D(-0.700025, 0, -0.714118, 0, 1, 0, 0.714118, 0, -0.700025, 3.98848, 0, -9.15442)
sharedDialogue = NodePath("CarpenterDialogue")

[node name="CarpenterDialogue" type="Node" parent="GameplayObjects/Carpenter"]
script = ExtResource("4_bn7ue")

[node name="StoryLineDialogue" type="Node" parent="GameplayObjects/Carpenter" node_paths=PackedStringArray("dialogue")]
script = ExtResource("5_xixsj")
dialogue = NodePath("../CarpenterDialogue")
baseStoryLine = ExtResource("14_2g0xd")

[node name="Tailor" parent="GameplayObjects" instance=ExtResource("9_poxsl")]
transform = Transform3D(-0.677903, 0, 0.735151, 0, 1, 0, -0.735151, 0, -0.677903, -9.3758, 0, -11.4412)

[node name="TailorDialogue" type="Node" parent="GameplayObjects/Tailor"]
script = ExtResource("4_bn7ue")
timeline = ExtResource("14_n6oq2")

[node name="CSGMesh3D" type="CSGMesh3D" parent="." node_paths=PackedStringArray("interactable")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -21.3359, 0.9576, -23.7425)
use_collision = true
mesh = SubResource("CylinderMesh_mnhcf")
script = ExtResource("13_khy5i")
interactable = NodePath("Interactable")
nextNightPath = "res://scenes/nights/night3.tscn"
nextDayPath = "res://scenes/days/day4.tscn"

[node name="Interactable" type="Node" parent="CSGMesh3D"]
script = ExtResource("14_ix0bv")
interactionName = "Bed"
interactionDescription = "Click to sleep"

[node name="woodenCart" type="Node3D" parent="."]
transform = Transform3D(0.890308, 0, 0.455358, 0, 1, 0, -0.455358, 0, 0.890308, -17.463, 0, -30.988)

[node name="crate" parent="woodenCart" instance=ExtResource("17_ubib6")]
transform = Transform3D(0.245696, 0, -0.547389, 0, 0.6, 0, 0.547389, 0, 0.245696, 0.414118, 0.115611, -2.12697)

[node name="cart" parent="woodenCart" instance=ExtResource("18_ywu8n")]
transform = Transform3D(0.377761, 0, -0.925905, 0, 1, 0, 0.925905, 0, 0.377761, 0.519151, 0, 0.104183)
